<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.88.1">
    <title>{{ nodesetID }} - ACH-ArgNav Application</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/headers/">
    <!--link href="http://www.fuelcdn.com/fuelux/3.3.0/css/fuelux.min.css" rel="stylesheet"/>
	<link href="http://www.fuelcdn.com/fuelux-mctheme/1.1.0/css/fuelux-mctheme.min.css" rel="stylesheet"/-->

    

    <!-- Bootstrap core CSS -->
      
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>
      
   <!-- Select2 >   
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script-->
    <script src="https://d3js.org/d3.v5.min.js" charset="utf-8"></script>
    <script data-require="d3@3.4.6" data-semver="3.4.6" src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.6/d3.min.js"></script>
    
      <!-- JQuery ---->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
      
    <link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.6.4/jquery.contextMenu.min.js"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.9.2/jquery.contextMenu.css" integrity="sha512-EF5k2tHv4ShZB7zESroCVlbLaZq2n8t1i8mr32tgX0cyoHc3GfxuP7IoT8w/pD+vyoq7ye//qkFEqQao7Ofrag==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.9.2/jquery.contextMenu.js" integrity="sha512-2ABKLSEpFs5+UK1Ol+CgAVuqwBCHBA0Im0w4oRCflK/n8PUVbSv5IY7WrKIxMynss9EKLVOn1HZ8U/H2ckimWg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.9.2/jquery.contextMenu.min.css" integrity="sha512-SWjZLElR5l3FxoO9Bt9Dy3plCWlBi1Mc9/OlojDPwryZxO0ydpZgvXMLhV6jdEyULGNWjKgZWiX/AMzIvZ4JuA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.9.2/jquery.ui.position.js" integrity="sha512-vBR2rismjmjzdH54bB2Gx+xSe/17U0iHpJ1gkyucuqlTeq+Q8zwL8aJDIfhQtnWMVbEKMzF00pmFjc9IPjzR7w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- User defined css -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/sidebars.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/results.css') }}">
      
    <script src="{{ url_for('static', filename='js/jscode.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/svg-pan-zoom.js') }}"></script>


    <link rel="stylesheet" href="{{ url_for('static', filename='css/d3-context-menu.css') }}" />
    <script src="{{ url_for('static', filename='js/d3-context-menu.js') }}"></script>
</head>

<body>



    
    <!-- Navbar -->
<nav class="navbar navbar-expand-md bg-dark navbar-dark pl-5 sticky-top" style="height: 70px;">
    <div class="container">
        <a href="#" class="navbar-brand">
            <img src="../static/img/logo.png" height="70"> 
        </a>
        
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navmenu">
            <span class="navbar-toggler-icon"></span>
        </button>
    
        <div class="collapse navbar-collapse" id="navmenu">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#loadNewID">Load New</a>
                </li>
                <li class="nav-item">
                    <a href="http://corpora.aifdb.org/" class="nav-link" target="_blank">AIFdb</a>
                </li>
                <li class="nav-item">
                    <a href="https://github.com/arg-tech/ACH-ArgNav" class="nav-link" target="_blank">GitHub</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#modalHelp">Help</a>
                </li>
            </ul>
        </div> 
   </div>
</nav>

    <!-- Modal Load New -->
    
<div class="modal" id="loadNewID">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h5 class="modal-title">Load New Argument Map</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body small">
        Are you sure you want to exit this page?
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
          <a href="{{ url_for('index') }}"><button type="button" class="btn btn-lg btn-link fs-6 text-decoration-none col-6 m-0 rounded-0 border-right"><strong>Exit</strong></button> </a>
        <button type="button" class="btn btn-lg btn-link fs-6 text-decoration-none col-6 m-0 rounded-0" data-bs-dismiss="modal">Cancel</button>
      </div>

    </div>
  </div>
</div>

<!-- Modal Help -->
<div class="modal" id="modalHelp">   
<div class="modal-dialog modal-dialog-scrollable" id="modalHelp">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="staticBackdropLabel">ACH-ArgNav Help</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body small">
            The Argument Map tab presents a graphical representation of the imported data, while the ACH tab includes the ACH matrix that data generate.
            
            <br><br>
            On top of the left side bar there are some analytics about the data, like the number of I-nodes, of RAs, CAs and MAs. It also includes a list with the available argument schemes in data. When clicking on a particular scheme, its argument instances are highlighted in the map, by changing the color of the respective shapes. The definition of that scheme in terms of its critical questions appear at the bottom of the left side bar. That information is also filled by clicking on a specific RA node in the SVG.
          <br>  <br>
            The "Highlight in map" button indicates the hypotheses in the argument map tab by changing the color of the respective shapes. The "Clear" button reverts any changes made in SVG. 
            <br>  <br>  
            The blue arrow next to the "Show Hypotheses" label, includes a list with the hypotheses, ranked according to the centrality measurement.
            <br>  <br>
            When the user clicks on a hypotheses in the SVG file, the left side bar is appended with information about the clicked hypothesis. Information includes alternative hypotheses as well as supporting and attacking direct evidence. Alternative hypotheses with a red X symbol in front of them, are these which are in conflict with the selected one, while those with a blue tilde in front of them, are hypotheses that explain differently the same subset of evidence (are supported by at least one common evidence). Supporting Evidence include the list with the  evidence that infer the selected hypothesis, while Attacking Evidence include those attacking it.  Clicking on any of the id links (or hypothesis in the list of hypotheses) in the left side bar, zooms to the specific node in the svg on the right.
             <br>  <br>
            With Shift-Click on some hypothesis or direct evidence, the tab is changed to ACH and the clicked node is highlighted in the matrix by changing the respective cell to dark green.
             <br>  <br>
            Cells with the value "consistent" (C) between the corresponding evidence and hypothesis are highlighted with green background, while those with "inconsistent" (I) value, are highlighted with red. N/A value means that the evidence is not related to the respective hypothesis.
             <br>  <br>
            Hovering over a hypothesis or evidence cell in ACH, a popup appears presenting its propositional content. When cliking on a propositional cell and selecting the "Show in map" option, the tab switches to the Argument map, and zooms to the clicked node.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
    </div>     
</div>
    
    
    
<div id="wrapper" class="row">
 
<div id="sidebar" class="d-flex flex-column align-items-center flex-shrink-1 p-3 bg-light" style="width:350px" "overflow-x:visible; overflow-y:auto;">
  <!--div class="flex-column flex-shrink-0 p-3 bg-light" style="width: 350px;"-->
  <!--div class="flex-shrink-0 p-3 bg-white" style="width: 280px;"-->  
    <p class="text-center"> <span class="fs-6 fw-semibold text-center" id="datasetLbl"> {{ nodesetID }}</span> </p>
    <hr style="height:1px; width:100%; border-width:0; color:red; background-color:darkorange">
    
    <p class="text-center">
    <span class="fw-light small "> &nbsp;&nbsp;&nbsp; I-nodes: </span> <span class="fw-bold small" id="iNo"> {{ inodesNo }} </span>  
    
    <span class="fw-light small ">, RA-nodes: </span> <span class="fw-bold small" id="raNo">  {{ ra_nodes|length }} </span>  <br>
 
    <span class="fw-light small ">&nbsp;&nbsp;&nbsp; CA-nodes: </span> <span class="fw-bold small" id="caNo">  {{ ca_nodes|length }}  </span>  
    <span class="fw-light small ">, MA-nodes: </span> <span class="fw-bold small" id="maNo">  {{ ma_nodes|length }}  </span> 
   
    </p>
    
    <div class="align-items-center">
    <a class="btn"> <span class="fw-light small dropdown-toggle" data-bs-toggle="collapse" data-bs-target="#navbarDarkDropdownMenuLink">Schemes</span> 
    </a>
    <ul class="collapse" id="navbarDarkDropdownMenuLink" style="list-style: none;">
        {%  if schemes|length > 0 and scheme_definitions|length > 0 %}
        {% for key, value in schemes.items() %}
        <li> <a class="dropdown-item schemelist" href="#"> <span class="fw-light small text-wrap"> {{ key }} </span> </a></li>
        {% endfor %}  
        
        {% else %}
          <li>  <span class="fw-light small text-wrap">  No Schemes </span> </li>
        {%  endif %}
        <!--li><a class="dropdown-item" href="#"> <span class="fw-light small text-wrap">Argument from Position to Know</span></a></li>
        <li><a class="dropdown-item" href="#"><span class="fw-light small text-wrap">Argument from Example</span></a></li>
        <li><a class="dropdown-item" href="#"><span class="fw-light small text-wrap">Argument from Evidence to Hypothesis</span></a></li-->
    </ul>
    </div>
    
    <hr style="height:1px; width:100%; border-width:0; color:red; background-color:darkorange">
    
    
   

   <p class="text-center"> <span class="fs-6 fw-semibold" id="datasetLbl "> Navigation</span></p>
    <div>
  <label class="fw-light small ms-3"> Show Hypotheses (Centrality Ranked): </label>
    <div class="btn-group dropend">
    <a id="hypoth_dropdown" class="dropdown-toggle" href="#" data-bs-toggle="dropdown" aria-expanded="false"><!--img src="../static/img/expandwindow_102704.ico" height="20" width="20"--> </a> 
    <div class="dropdown-menu border-0 pt-0 mx-0 rounded-3 shadow overflow-y:auto scrollarea" style="width: 280px; height: 380px">
    <form  class="p-2 mb-2 border-bottom border-dark">
      <input id="search_hyp_input" type="search" class="form-control form-control-dark" autocomplete="true" placeholder="Type to filter...">
    </form>
        <ul id="list_of_hypotheses" class="list-unstyled mb-0 ">
        
            {% for h in hypotheses %}
            <li ><a class="selected_hypoth dropdown-item d-flex align-items-center gap-2 py-2" href="#">
             <span class="fw-light small text-wrap"> {{ h }}</span>
                </a></li>
            {% endfor %}
      
        </ul>
        </div>
  </div>
    </div>

    
    <br>   
     
    <div class="">
      <span class="fw-light small">  or </span>
        <button id="highlightBtn" type="button" class="btn btn-secondary btn-sm ms-4">Highlight in map</button>
    
        <button id="clearBtn" type="button" class="btn btn-secondary btn-sm ms-4">Clear</button>
    </div>
   
    <br>
    
        <hr style="height:1px; width:100%; border-width:0; color:red; background-color:darkorange">
    
    
    <!-- HYPOTHESES INFORMATION -->
    <div class="d-none" id="hypothesesInfo" style="width:100%">
        <span class="fw-light small"> &nbsp;&nbsp; HYPOTHESIS: </span> <a class="selected3" href="#"> <span class="small" id="hypothesisID">  <strong>   </strong> </span> </a>  &nbsp;&nbsp;   <br>
        <span class="fw-light small"> &nbsp;&nbsp; TEXT: </span> <em> <span id="hypothesisTxt" class="fw-light small"> "Shane Jeffries is likely considering involvement..." </span> </em> <br>
    
        <br>
        
            <div class="accordion accordion-flush" id="faqlist1">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq-content-3"> <span class="small" > <strong>  Alternative Hypotheses </strong> </span>
                            </button>
                        </h2>
                        <div id="faq-content-3" class="accordion-collapse collapse" data-bs-parent="#faqlist1">
                            <div class="accordion-body">
                                <ul style="list-style: none;" id="alternativeHypothesesList">
                                   <li>  <span class="fw-light small"> <a href="#"> 597314: </a> </span> 
                                          <span id="hypothesisTxt" class="fw-light small"><em> "Shane Jeffries is not likely considering involvement ..." </em> </span> <br> </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div id="consistentEvidenceAcc" class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq-content-1"><span class="small"> <strong> Supporting Evidence </strong>  </span>
                            </button>
                        </h2>
                        <div id="faq-content-1" class="accordion-collapse collapse" data-bs-parent="#faqlist1">
                            <div class="accordion-body">
                               <ul style="list-style: none;" id="consistentEvidenceList">
                               </ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq-content-2"><span class="small"> <strong>  Attacking Evidence</strong>  </span>
                            </button>
                        </h2>
                        <div id="faq-content-2" class="accordion-collapse collapse" data-bs-parent="#faqlist1">
                            <div class="accordion-body">
                            <ul style="list-style: none;" id="inconsistentEvidenceList">
                            </ul>
                            </div>
                        </div>
                    </div>
      
        </div>
    </div>
    
    <!-- ARGUMENT INFORMATION -->
    <div class="d-none" id="schemesInfo" style="width:100%">
       <!--span class="small"> &nbsp;&nbsp; ARGUMENT: </span> <strong><span class="small" id="raID"></span> </strong> <br-->
        <span class="fw-light small"> &nbsp;&nbsp; SCHEME: </span> <strong><span id="schemeIDtxt" class="small"> </span> </strong> <br>
        <br>
            <span class="small"> &nbsp;&nbsp; <strong>CRITICAL QUESTIONS</strong> </span> <br>
            <ul id="criticalQuestionsList">
            </ul>
        <br>
    </div>
    
  </div>
    
    
  <!--div class="col-md-9" id="content" style="height: 646px; overflow-x:hidden; overflow-y:auto;"-->
    <div class="col-md-9" id="content" style="height: 700px; overflow-x:hidden; overflow-y:auto;">    
      <ul class="nav nav-tabs mt-1" role="tablist" id="tabs">
        <li class="nav-item justify-content-center" role="presentation">
            <a class="nav-link active" data-bs-toggle="tab" role="tab" aria-selected="true" href="#argMapTab">Argument map</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" data-bs-toggle="tab" role="tab" aria-selected="false" href="#achTab">ACH</a>
          </li>
      </ul>
      
      
      <div class="tab-content" id="tab-content" style="height: 100%; width: 100%">
          <div class="tab-pane active mt-5" role="tabpanel" id="argMapTab" style="height: 100%; width: 100%"> <!-- height: 500px-->
              {{ svg }}
          </div>
          
          <div class="tab-pane scrollarea container mt-5" role="tabpanel" id="achTab" style= "overflow-x:auto; overflow-y:auto;">
              <table class="table table-bordered table-striped table-earning" id="ACHtable" style="cursor:pointer;">
              <thead>
                <tr id="ach_head">

                </tr>
              </thead>
              <tbody id="ach_body">

              </tbody>
            </table>
             <div class="modal" id="modalReasoningChain">   
                <div class="modal-dialog modal-dialog-scrollable" id="modalHelp">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="staticBackdropLabel">Reasoning Chain</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body small" id="chainBodyId">

                        </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                          </div>
                    </div>
                </div>     
            </div>
          </div>
      </div>
      
      

  </div>
</div>

    
      
  </body>

 <footer class="footer py-3 bg-light text-center fixed-bottom" style="height: 20px">
    <span class="text-muted"> <p class="col-md-12 mb-0 text-muted" style="font-size: 12px;">&copy; ARGtech - Centre of Argument Technology, 2021</p></span>
</footer>
    
<script> 
    // declare global variables
    
    var dynamicTable = '';
    var node_list = {{ child_nodes | tojson}};
    var edge_list = {{child_edges | tojson}};
    var aif_nodes_list = {{aif_nodes | tojson}};
    var svg_nodes_list = {{svg_nodes | tojson}};
    var divergent_list = {{div_nodes | tojson}};
    var snode_list = {{s_nodes | tojson}};

    var lnode_id_list = {{l_node_id | tojson}};
    var lnode_text_list = {{l_node_text | tojson}};
    var lnode_inode_list = {{l_i_nodes | tojson}};
    var inode_list = {{i_node_list | tojson}};
    var inode_txt_list = {{ i_node_txt_list | tojson }};
    var i_node_svg_list = {{ i_node_svg_list | tojson }};

    var schemes = {{schemes | tojson}};
    var all_schemes = {{all_schemes | tojson}};
    var schemes_show = {{schemes_show | tojson}};
    
    var scheme_definitions = {{ scheme_definitions | tojson }}
    var svg_dict = {{ svg_dict | tojson}}
    var svg_edge_dict = {{ svg_edge_dict | tojson }}
    console.log("=====SVG Edge Dict ========");
    console.log(svg_edge_dict)
    
    var ra_nodes = {{ ra_nodes | tojson }}
    var ca_nodes = {{ ca_nodes | tojson }}
    var ma_nodes = {{ ma_nodes | tojson }}

    var all_edges = {{all_edges | tojson}};
    
    var hypotheses_ids = {{ hypotheses_ids | tojson}};
    var hypotheses_svg = {{ hypotheses_svg | tojson }};
    var hypotheses = {{ hypotheses | tojson }};
    
    var consistent_evidence = {{ consistent_evidence | tojson }};
    var inconsistent_evidence = {{ inconsistent_evidence | tojson }};
    var conflicted_hypotheses = {{ conflicted_hypotheses | tojson }};
    var alternative_hypotheses = {{ alternative_hypotheses | tojson }};

    var h_tnodes_dict = {{ h_tnodes_dict | tojson }};
    var h_tedges_dict = {{ h_tedges_dict | tojson }};
    console.log("======SVG EDGES dict======");
    console.log(h_tedges_dict);
    
    var from_annotation_list = [];
    var to_annotation_list = [];
    var from_text = [];
    var to_text = [];
    var from_type = [];
    var to_type = [];
    var schema_list = [];

    var annotation_counter = 0;
    var annotation_flag = false;
    var schema_type = '';

    var alert_box_flag = false;
    
    var hypothDictionary = {};

    
    
</script> 

<script src="{{ url_for('static', filename='js/svg_func.js') }}"></script>
<!--script src="{{ url_for('static', filename='js/svg_transforms.js') }}"></script-->

<script src="{{ url_for('static', filename='js/panning.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/def_funcs.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/ach_table.js') }}" defer></script>
    
</html>